/// API: roll {expr}
act api_roll
    query_string | env("GOBLIN_QUERY_STRING")
    /// Parse expr=3d6 -> extract the value after =
    expr | query_string.keep_after("expr=")
    /// execute dice expression using the _str variant
    result | roll_detail_str(expr)
    say json_stringify(result)
end
api_roll()